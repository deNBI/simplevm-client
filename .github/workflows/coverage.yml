name: 'coverage'
on:
    pull_request:
    workflow_dispatch:


jobs:
    coverage:
        runs-on: ubuntu-latest
        steps:
          - uses: actions/checkout@v4.1.1
          - name: Install coverage
            run: pip install coverage

          - name: Run Coverage
            run: cd simple_vm_client && coverage xml coverage.xml

          - name: Get Cover
            uses: orgoro/coverage@v3.1
            with:
                coverageFile: coverage.xml
                token: ${{ secrets.GITHUB_TOKEN }}
